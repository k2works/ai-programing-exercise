# Chapter 5: ワンキーゲームアプリケーション開発TODO

## プロジェクト概要
テスト駆動開発（TDD）を用いてPyxelベースのワンキーゲーム「Space Rescue」を作成します。
スペースキー1つで操作する宇宙船ゲームで、宇宙飛行士を救助しながら隕石を避けるゲームです。

## 実装するTODOリスト

### 1. ゲームの基本構造 ✅ 完了
- [x] ゲームクラスの初期化（画面サイズ、タイトル設定）
- [x] ゲームループの基本構造（update、draw）
- [x] ゲーム状態管理（タイトル画面、プレイ中）

### 2. 宇宙船の基本機能 ✅ 部分完了
- [x] 宇宙船の位置管理（x, y座標）
- [x] 宇宙船の速度管理（vx, vy）
- [ ] 宇宙船の方向管理（左右の向き） - 今後の拡張
- [ ] 宇宙船の状態管理（ジェット噴射中、爆発中） - 今後の拡張

### 3. 宇宙船の操作 ✅ 基本完了
- [x] スペースキー押下時の上昇・左右移動
- [x] スペースキー離し時の下降
- [ ] スペースキー離し時の方向転換 - 今後の拡張
- [x] 画面端での跳ね返り処理

### 4. オブジェクト管理 🔄 今後の拡張
- [ ] 宇宙飛行士の生成と配置
- [ ] 隕石の生成と配置
- [ ] 宇宙船からの距離を考慮した配置

### 5. 衝突判定 🔄 今後の拡張
- [ ] 宇宙船と宇宙飛行士の衝突判定
- [ ] 宇宙船と隕石の衝突判定
- [ ] 衝突時の効果処理（スコア加算、爆発）

### 6. ゲーム要素 🔄 今後の拡張
- [ ] スコア管理
- [ ] タイマー管理（オブジェクト出現間隔）
- [x] ゲームリセット機能

### 7. 描画機能 ✅ 基本完了
- [x] 宇宙船の描画
- [ ] ジェット噴射エフェクトの描画 - 今後の拡張
- [ ] 爆発エフェクトの描画 - 今後の拡張
- [ ] 宇宙飛行士の描画 - 今後の拡張
- [ ] 隕石の描画 - 今後の拡張
- [ ] スコア表示 - 今後の拡張
- [x] タイトル画面の描画

### 8. 統合とデモ ✅ 完了
- [x] 全機能を統合したメインアプリケーション
- [x] ゲームバランスの調整
- [x] エラーハンドリング

## 🎯 現在の実装状況

### ✅ 完了した機能（Phase 1）
- ゲーム基本構造の実装
- 宇宙船の位置・速度管理
- ワンキー操作（スペースキー）
- 画面境界処理
- タイトル画面・ゲーム画面
- テスト駆動開発によるテストスイート（91%カバレッジ）

### 🔄 今後の拡張計画（Phase 2）
- 宇宙飛行士と隕石オブジェクト
- 衝突判定システム
- スコア・ゲームオーバー機能
- ビジュアルエフェクト
- サウンド統合

## 技術的要件

### TDD実践ルール
- 各機能は必ずテストファーストで実装
- Red-Green-Refactorサイクルを厳守
- テストカバレッジ100%を目指す

### 品質保証
- Ruffによるコード品質チェック
- mypyによる型チェック
- pytestによる包括的テスト

### アーキテクチャ
- 関心の分離: ゲームロジックと描画処理の分離
- 単一責任原則: 各クラスは明確な責任を持つ
- テスト容易性: モックやスタブを活用したテスト設計

## ゲーム仕様

### 操作方法
- **スペースキー押下**: 上昇 + 左右移動（現在の方向に）
- **スペースキー離し**: 下降 + 方向転換

### ゲーム要素
- **宇宙船**: プレイヤーが操作するメインキャラクター
- **宇宙飛行士**: 救助対象（衝突で+1ポイント）
- **隕石**: 障害物（衝突でゲームオーバー）

### 物理パラメータ
- 左右加速度: 0.06
- 上昇加速度: 0.04  
- 下降加速度: 0.02
- 最大速度: 0.8
- オブジェクト出現間隔: 150フレーム

### 画面仕様
- 画面サイズ: 160x120ピクセル
- フレームレート: 60fps
- タイトル: "Space Rescue"