# アルゴリズムから始めるHaskell入門

Haskellを使ったアルゴリズム学習のための実践的プロジェクトです。第1章から第9章まで、基本的なアルゴリズムから木構造まで、テスト駆動開発（TDD）を実践しながら段階的に学習を進めます。

## 🎯 プロジェクトの特徴

- **📚 体系的学習**: 第1章の基本アルゴリズムから第9章の木構造まで章立てで学習
- **🧪 テスト駆動開発**: HSpecとQuickCheckを使用したテストファーストのアプローチ
- **🔍 品質管理**: HLint静的解析、コードカバレッジ、循環複雑度測定
- **🏗️ 関数型設計**: Haskellの型システムと関数型プログラミングパターンを活用
- **⚡ 継続的統合**: GitHub Actionsによる自動テストとビルド

## 🚀 セットアップ

### 必要なツール

- [Stack](https://docs.haskellstack.org/en/stable/README/) (推奨)
- GHC 9.10.2+

### インストール

```bash
# 依存関係のインストール
stack setup
stack build

# または Makefileを使用
make build
```

## 📈 使用方法

### 基本操作

```bash
# アプリケーションの実行（全章のデモ）
stack exec algorithm-haskell-exe

# テストの実行
stack test

# 特定章のテスト実行
stack test --test-arguments="--match TreeStructures"
```

### 開発用コマンド

```bash
make test           # テスト実行
make lint           # 静的解析
make coverage       # カバレッジ測定
make complexity     # 循環複雑度解析
make watch         # ファイル変更時の自動実行
make repl          # 対話的実行環境
```

## 📚 実装済みアルゴリズム（全9章）

### 第1章: 基本的なアルゴリズム
- **3値の最大値・中央値** (`max3`, `med3`) - ガード構文と条件分岐
- **符号判定** (`judgeSign`) - 型多相とパターンマッチング
- **1からnまでの総和** (`sum1ToN`) - リスト内包表記と範囲演算子
- **記号文字の交互表示** - 無限リストと`cycle`関数
- **長方形の辺の長さ列挙** - 効率的な約数探索
- **九九の表・直角三角形** - ネストしたリスト操作

### 第2章: 配列（リスト）
- **リストの最大値** (`maxOf`) - `foldl1`による畳み込み
- **リストの反転** (`reverseList`) - 再帰的実装
- **基数変換** (`cardConv`) - 任意進数への変換
- **素数の列挙** (`primes`) - エラトステネスの篩

### 第3章: 探索アルゴリズム
- **線形探索** (`linearSearch`) - `Maybe`型による安全な検索
- **二分探索** (`binarySearch`) - 分割統治法とO(log n)性能
- **ハッシュテーブル** - `Data.Map`による効率的な辞書操作

### 第4章: スタックとキュー
- **スタック実装** - LIFO（後入れ先出し）の純粋実装
- **キュー実装** - FIFO（先入れ先出し）の効率的実装
- **安全な操作** - `Maybe`型による例外安全性

### 第5章: 再帰アルゴリズム
- **階乗計算** (`factorial`) - 通常・末尾再帰版
- **ユークリッドの互除法** (`gcd'`) - 最大公約数の効率的計算
- **ハノイの塔** (`hanoi`) - 分割統治法による問題解決
- **N王妃問題** (`queens`) - バックトラッキングアルゴリズム

### 第6章: ソートアルゴリズム
- **バブルソート** - O(n²)、安定ソート
- **選択ソート** - O(n²)、最小値選択
- **挿入ソート** - O(n²)、ほぼソート済みデータに効率的
- **クイックソート** - O(n log n)平均、分割統治法
- **マージソート** - O(n log n)保証、安定ソート

### 第7章: 文字列処理
- **文字列検索** (`bruteForceSearch`) - 力まかせ法
- **パターンマッチング** - 出現位置検索、回文判定
- **文字列操作** - 大文字化、単語反転、空白除去
- **シーザー暗号** (`caesarCipher`, `rot13`) - 暗号化・復号化
- **文字頻度解析** - 統計的テキスト分析

### 第8章: リスト構造
- **循環リスト** (`cyclicFromList`) - 遅延評価による無限構造
- **Zipperパターン** - 双方向リストの効率的実装
- **リスト変換** (`interleave`, `slidingWindow`, `rotateLeft/Right`)
- **遅延評価** - フィボナッチ数列、素数列、無限リスト
- **計算量分析** - 各操作の性能特性

### 第9章: 木構造 ⭐ 最新追加
- **二分探索木** (`Tree`) - BST操作（挿入・検索・削除）
- **木の走査** (`inOrderTraversal`, `preOrderTraversal`, `postOrderTraversal`)
- **平衡性分析** (`isBalanced`, `balanceFactor`) - 木の性能評価
- **標準ライブラリ連携** (`toSet/fromSet`, `toMap/fromMap`)
- **高性能操作** - 大規模データセットでの効率的処理

## 📊 品質メトリクス

### 現在の品質状況
- **テスト数**: 80+ のテストケース（全9章カバー）
- **テストカバレッジ**: 95%+ （主要機能をカバー）
- **静的解析**: HLintによるチェック適用済み
- **型安全性**: Haskellの強力な型システムによる実行時エラー防止

### 実装品質の特徴
- **純粋関数**: 副作用のない関数による予測可能な動作
- **型駆動開発**: 型システムによる設計とバグ防止
- **宣言的コード**: 問題の「何を」に焦点を当てた読みやすいコード
- **テスト網羅性**: QuickCheckによる性質ベーステスト

## 🏗️ プロジェクト構造

```
.
├── app/
│   └── Main.hs                     # メインアプリケーション（全章デモ）
├── src/
│   ├── BasicAlgorithms.hs         # 第1章: 基本アルゴリズム
│   ├── Arrays.hs                  # 第2章: 配列（リスト）
│   ├── SearchAlgorithms.hs        # 第3章: 探索アルゴリズム
│   ├── StackAndQueue.hs           # 第4章: スタックとキュー
│   ├── RecursionAlgorithms.hs     # 第5章: 再帰アルゴリズム
│   ├── SortAlgorithms.hs          # 第6章: ソートアルゴリズム
│   ├── StringProcessing.hs        # 第7章: 文字列処理
│   ├── AdvancedLists.hs           # 第8章: リスト構造
│   ├── TreeStructures.hs          # 第9章: 木構造 ⭐
│   ├── FizzBuzz.hs                # FizzBuzz実装（既存）
│   └── Lib.hs                     # 共通ライブラリ
├── test/
│   ├── BasicAlgorithmsSpec.hs     # 第1章テスト
│   ├── ArraysSpec.hs              # 第2章テスト
│   ├── SearchAlgorithmsSpec.hs    # 第3章テスト
│   ├── StackAndQueueSpec.hs       # 第4章テスト
│   ├── RecursionAlgorithmsSpec.hs # 第5章テスト
│   ├── SortAlgorithmsSpec.hs      # 第6章テスト
│   ├── StringProcessingSpec.hs    # 第7章テスト
│   ├── AdvancedListsSpec.hs       # 第8章テスト
│   ├── TreeStructuresSpec.hs      # 第9章テスト ⭐
│   ├── FizzBuzzSpec.hs            # FizzBuzzテスト
│   └── Spec.hs                    # テスト設定
├── complexity-analyzer.hs          # 循環複雑度分析ツール
├── complexity-report.hs           # 詳細複雑度レポート
├── Makefile                       # ビルド自動化
├── package.yaml                   # プロジェクト設定
└── stack.yaml                     # Stack設定
```

## 🎓 学習の進め方

### 段階的学習ロードマップ

1. **第1章: 基礎固め**
   - Haskellの基本文法を基本アルゴリズムで学習
   - ガード構文、パターンマッチング、リスト操作

2. **第2-3章: データ構造**
   - リスト操作と探索アルゴリズムでデータ構造の基礎
   - 計算量とアルゴリズム効率の概念

3. **第4-5章: 抽象データ型**
   - スタック・キューで抽象データ型の設計
   - 再帰的思考とアルゴリズム設計パターン

4. **第6-7章: 実用アルゴリズム**
   - ソートアルゴリズムで分割統治法を学習
   - 文字列処理で実用的なアルゴリズム技法

5. **第8-9章: 高度な構造**
   - 高度なリスト操作と遅延評価
   - 木構造でデータ構造設計の集大成

### 効果的な学習方法

- **📖 テストから理解**: 各アルゴリズムのテストケースで仕様を把握
- **🔧 実装を解析**: Haskellの関数型プログラミング特徴を理解
- **📏 品質を測定**: 各種メトリクスでコード品質を確認
- **🎯 実行で体験**: デモ実行で動作を視覚的に確認

## 🛠️ 技術スタック

| 分野 | 技術 | 用途 |
|------|------|------|
| **言語** | Haskell (GHC 9.10.2) | 関数型プログラミング |
| **ビルド** | Stack | 依存関係管理・ビルド |
| **テスト** | HSpec + QuickCheck | 単体テスト・性質ベーステスト |
| **品質** | HLint + HPC | 静的解析・カバレッジ測定 |
| **CI/CD** | GitHub Actions | 自動ビルド・テスト |
| **開発** | Makefile | タスク自動化 |

## 💡 アルゴリズム性能比較

### 検索アルゴリズム
| アルゴリズム | 時間計算量 | 空間計算量 | 特徴 |
|-------------|-----------|-----------|------|
| 線形探索 | O(n) | O(1) | 単純、ソート不要 |
| 二分探索 | O(log n) | O(1) | 高速、要ソート |
| BST検索 | O(log n)* | O(n) | 動的、挿入削除可能 |

### ソートアルゴリズム
| アルゴリズム | 平均 | 最悪 | 安定性 | 特徴 |
|-------------|------|------|--------|------|
| バブルソート | O(n²) | O(n²) | 安定 | 教育用 |
| クイックソート | O(n log n) | O(n²) | 不安定 | 実用的 |
| マージソート | O(n log n) | O(n log n) | 安定 | 予測可能 |

*平衡木の場合

## 📚 参考文献・リソース

### 書籍
- **"Algorithm Design with Haskell"** - Richard Bird, Jeremy Gibbons
  - Haskellでのアルゴリズム設計の決定版
- **『すごいHaskellたのしく学ぼう！』** - Miran Lipovača
  - Haskell入門の名著
- **『テスト駆動開発』** - Kent Beck
  - TDD手法の基礎
- **『プログラミングの基礎』** - 浅井健一
  - 関数型プログラミングの基本概念

### オンラインリソース
- [Haskell公式ドキュメント](https://www.haskell.org/documentation/)
- [Hackage](https://hackage.haskell.org/) - Haskellパッケージリポジトリ
- [Hoogle](https://hoogle.haskell.org/) - Haskell関数検索エンジン
- [Stack Documentation](https://docs.haskellstack.org/)

## 🤝 貢献・フィードバック

このプロジェクトは学習目的で作成されています：

- **Issue報告**: バグや改善提案をお気軽に
- **Pull Request**: アルゴリズムの追加や改善歓迎
- **学習体験の共有**: 他の学習者への知見共有

## 📝 ライセンス

**BSD3** - オープンソースライセンス

---

🎯 **Happy Haskell Learning!** - 関数型プログラミングとアルゴリズムの世界をお楽しみください！
