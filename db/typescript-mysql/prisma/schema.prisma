// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

generator zod {
  provider                         = "zod-prisma-types"
  output                           = "../src/generated/zod"
  createRelationValuesTypes        = true
  createPartialTypes               = true
  createOptionalDefaultValuesTypes = true
  useDecimalJs                     = true
  prismaJsonNullability            = true
}

generator comments {
  provider = "prisma-db-comments-generator"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

/// 部門マスタテーブル
model Department {
  /// 部門コード
  deptCode   String    @map("dept_code") @db.VarChar(6)
  /// 開始日
  startDate  DateTime  @default(now()) @map("start_date") @db.DateTime(6)
  /// 終了日
  endDate    DateTime? @default(dbgenerated("'2100-12-31 00:00:00'")) @map("end_date") @db.DateTime(6)
  /// 部門名
  name       String?   @db.VarChar(40)
  /// 組織階層
  layer      Int       @db.Int
  /// 部門パス
  psth       String    @db.VarChar(100)
  /// 最下層区分
  lowestType Int       @map("lowest_type") @db.Int
  /// 伝票入力可否
  slitYn     Int       @map("slit_yn") @db.Int
  /// 作成日時
  createDate DateTime  @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator    String?   @db.VarChar(12)
  /// 更新日時
  updateDate DateTime  @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater    String?   @db.VarChar(12)

  employees Employee[]

  // 履歴管理のため、部門コードと適用開始日で複合主キーとする
  @@id([deptCode, startDate])
  @@map("department")
}

/// 社員マスタテーブル
model Employee {
  /// 社員コード
  empCode       String   @id @map("emp_code") @db.VarChar(10)
  /// 社員名
  name          String?  @db.VarChar(20)
  /// 社員名カナ
  kana          String?  @db.VarChar(40)
  /// パスワード
  loginPassword String?  @map("login_password") @db.VarChar(8)
  /// 電話番号
  tel           String?  @db.VarChar(13)
  /// FAX番号
  fax           String?  @db.VarChar(13)
  /// 部門コード
  deptCode      String   @map("dept_code") @db.VarChar(6)
  /// 開始日
  startDate     DateTime @default(now()) @map("start_date") @db.DateTime(6)
  /// 職種コード
  occuCode      String   @map("occu_code") @db.VarChar(2)
  /// 承認権限コード
  approvalCode  String   @map("approval_code") @db.VarChar(2)
  /// 作成日時
  createDate    DateTime @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator       String?  @db.VarChar(12)
  /// 更新日時
  updateDate    DateTime @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater       String?  @db.VarChar(12)

  department Department @relation(fields: [deptCode, startDate], references: [deptCode, startDate])

  @@map("employee")
}

/// 商品分類マスタテーブル
model ProductCategory {
  /// 商品分類コード
  categoryCode String   @id @map("category_code") @db.VarChar(8)
  /// 商品分類名
  name         String?  @db.VarChar(30)
  /// 商品分類階層
  layer        Int      @db.Int
  /// 商品分類パス
  path         String?  @db.VarChar(100)
  /// 最下層区分
  lowestType   Int?     @map("lowest_type") @db.Int
  /// 作成日時
  createDate   DateTime @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator      String?  @db.VarChar(12)
  /// 更新日時
  updateDate   DateTime @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater      String?  @db.VarChar(12)

  @@map("product_category")
}

/// 商品マスタテーブル
model Product {
  /// 商品コード
  prodCode          String             @id @map("prod_code") @db.VarChar(16)
  /// 商品正式名
  fullname          String             @db.VarChar(40)
  /// 商品略称
  name              String             @db.VarChar(10)
  /// 商品名カナ
  kana              String             @db.VarChar(20)
  /// 商品区分
  prodType          String?            @map("prod_type") @db.VarChar(1)
  /// 製品型番
  serialNo          String?            @map("serial_no") @db.VarChar(40)
  /// 販売単価
  unitprice         Int                @db.Int
  /// 仕入単価
  poPrice           Int?               @map("po_price") @db.Int
  /// 売上原価
  primeCost         Int                @map("prime_cost") @db.Int
  /// 税区分
  taxType           Int                @map("tax_type") @db.Int
  /// 商品分類コード
  categoryCode      String?            @map("category_code") @db.VarChar(8)
  /// 雑区分
  wideUseType       Int?               @map("wide_use_type") @db.Int
  /// 在庫管理対象区分
  stockManageType   Int?               @map("stock_manage_type") @db.Int
  /// 在庫引当区分
  stockReserveType  Int?               @map("stock_reserve_type") @db.Int
  /// 仕入先コード
  supCode           String             @map("sup_code") @db.VarChar(8)
  /// 仕入先枝番
  supSubNo          Int?               @map("sup_sub_no") @db.Int
  /// 作成日時
  createDate        DateTime           @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator           String?            @db.VarChar(12)
  /// 更新日時
  updateDate        DateTime           @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater           String?            @db.VarChar(12)

  pricebycustomers  PriceByCustomer[]
  alternateProducts AlternateProduct[]

  @@map("product")
}

/// 顧客別販売単価テーブル
model PriceByCustomer {
  /// 商品コード
  prodCode   String   @map("prod_code") @db.VarChar(16)
  /// 得意先コード
  compCode   String   @map("comp_code") @db.VarChar(8)
  /// 販売単価
  unitprice  Int      @db.Int
  /// 作成日時
  createDate DateTime @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator    String?  @db.VarChar(12)
  /// 更新日時
  updateDate DateTime @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater    String?  @db.VarChar(12)

  products Product? @relation(fields: [prodCode], references: [prodCode])

  @@id([prodCode, compCode])
  @@map("price_by_customer")
}

/// 代替商品テーブル
model AlternateProduct {
  /// 商品コード
  prodCode          String   @map("prod_code") @db.VarChar(16)
  /// 代替商品コード
  alternateProdCode String   @map("alternate_prod_code") @db.VarChar(16)
  /// 優先順位
  priority          Int      @db.Int
  /// 作成日時
  createDate        DateTime @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator           String?  @db.VarChar(12)
  /// 更新日時
  updateDate        DateTime @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater           String?  @db.VarChar(12)

  products Product? @relation(fields: [prodCode], references: [prodCode])

  @@id([prodCode, alternateProdCode])
  @@map("alternate_product")
}

/// 取引先グループマスタテーブル
model CompanyGroup {
  /// 取引先グループコード
  compGroupCode String    @id @map("comp_group_code") @db.VarChar(4)
  /// 取引先グループ名
  groupName     String?   @map("group_name") @db.VarChar(40)
  /// 作成日時
  createDate    DateTime  @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator       String?   @db.VarChar(12)
  /// 更新日時
  updateDate    DateTime  @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater       String?   @db.VarChar(12)

  companies Company[]

  @@map("company_group")
}

/// 取引先マスタテーブル
model Company {
  /// 取引先コード
  compCode      String   @id @map("comp_code") @db.VarChar(8)
  /// 取引先名
  name          String   @db.VarChar(40)
  /// 取引先名カナ
  kana          String?  @db.VarChar(40)
  /// 仕入先区分
  supType       Int?     @map("sup_type") @db.Int
  /// 郵便番号
  zipCode       String?  @map("zip_code") @db.Char(8)
  /// 都道府県
  state         String?  @db.VarChar(4)
  /// 住所１
  address1      String?  @db.VarChar(40)
  /// 住所２
  address2      String?  @db.VarChar(40)
  /// 取引禁止フラグ
  noSalesFlg    Int?     @map("no_sales_flg") @db.Int
  /// 雑区分
  wideUseType   Int?     @map("wide_use_type") @db.Int
  /// 取引先グループコード
  compGroupCode String   @map("comp_group_code") @db.VarChar(4)
  /// 与信限度額
  maxCredit     Int?     @map("max_credit") @db.Int
  /// 与信一時増加枠
  tempCreditUp  Int?     @map("temp_credit_up") @db.Int
  /// 作成日時
  createDate    DateTime @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator       String?  @db.VarChar(12)
  /// 更新日時
  updateDate    DateTime @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater       String?  @db.VarChar(12)

  companyGroup          CompanyGroup?          @relation(fields: [compGroupCode], references: [compGroupCode])
  customers             Customer[]
  suppliers             Supplier[]
  companyCategoryGroups CompanyCategoryGroup[]

  @@map("company")
}

/// 顧客マスタテーブル
model Customer {
  /// 顧客コード
  custCode        String   @map("cust_code") @db.VarChar(8)
  /// 顧客枝番
  custSubNo       Int      @map("cust_sub_no") @db.Int
  /// 顧客区分
  custType        Int?     @map("cust_type") @db.Int
  /// 請求先コード
  arCode          String   @map("ar_code") @db.VarChar(8)
  /// 請求先枝番
  arSubNo         Int?     @map("ar_sub_no") @db.Int
  /// 回収先コード
  payerCode       String   @map("payer_code") @db.VarChar(8)
  /// 回収先枝番
  payerSubNo      Int?     @map("payer_sub_no") @db.Int
  /// 顧客名
  name            String   @db.VarChar(40)
  /// 顧客名カナ
  kana            String?  @db.VarChar(40)
  /// 自社担当者コード
  empCode         String   @map("emp_code") @db.VarChar(10)
  /// 顧客担当者名
  custUserName    String?  @map("cust_user_name") @db.VarChar(20)
  /// 顧客部門名
  custUserDepName String?  @map("cust_user_dep_name") @db.VarChar(40)
  /// 顧客郵便番号
  custZipCode     String?  @map("cust_zip_code") @db.Char(8)
  /// 顧客都道府県
  custState       String?  @map("cust_state") @db.VarChar(4)
  /// 顧客住所１
  custAddress1    String?  @map("cust_address1") @db.VarChar(40)
  /// 顧客住所２
  custAddress2    String?  @map("cust_address2") @db.VarChar(40)
  /// 顧客電話番号
  custTel         String?  @map("cust_tel") @db.VarChar(13)
  /// 顧客ＦＡＸ番号
  custFax         String?  @map("cust_fax") @db.VarChar(13)
  /// 顧客メールアドレス
  custEmail       String?  @map("cust_email") @db.VarChar(100)
  /// 顧客請求区分
  custArType      Int?     @map("cust_ar_type") @db.Int
  /// 顧客締日１
  custCloseDate1  Int      @map("cust_close_date1") @db.Int
  /// 顧客支払月１
  custPayMonths1  Int?     @map("cust_pay_months1") @db.Int
  /// 顧客支払日１
  custPayDates1   Int?     @map("cust_pay_dates1") @db.Int
  /// 顧客支払方法１
  custPayMethod1  Int?     @map("cust_pay_method1") @db.Int
  /// 顧客締日２
  custCloseDate2  Int      @map("cust_close_date2") @db.Int
  /// 顧客支払月２
  custPayMonths2  Int?     @map("cust_pay_months2") @db.Int
  /// 顧客支払日２
  custPayDates2   Int?     @map("cust_pay_dates2") @db.Int
  /// 顧客支払方法２
  custPayMethod2  Int?     @map("cust_pay_method2") @db.Int
  /// 作成日時
  createDate      DateTime @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator         String?  @db.VarChar(12)
  /// 更新日時
  updateDate      DateTime @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater         String?  @db.VarChar(12)

  company Company @relation(fields: [custCode], references: [compCode])

  @@id([custCode, custSubNo])
  @@map("customer")
}

/// 仕入先マスタテーブル
model Supplier {
  /// 仕入先コード
  supCode       String   @map("sup_code") @db.VarChar(8)
  /// 仕入先枝番
  supSubNo      Int      @map("sup_sub_no") @db.Int
  /// 仕入先名
  name          String   @db.VarChar(40)
  /// 仕入先名カナ
  kana          String?  @db.VarChar(40)
  /// 仕入先担当者名
  supEmpName    String?  @map("sup_emp_name") @db.VarChar(20)
  /// 仕入先部門名
  supDepName    String?  @map("sup_dep_name") @db.VarChar(40)
  /// 仕入先郵便番号
  supZipCode    String?  @map("sup_zip_code") @db.Char(8)
  /// 仕入先都道府県
  supState      String?  @map("sup_state") @db.VarChar(4)
  /// 仕入先住所１
  supAddress1   String?  @map("sup_address1") @db.VarChar(40)
  /// 仕入先住所２
  supAddress2   String?  @map("sup_address2") @db.VarChar(40)
  /// 仕入先電話番号
  supTel        String?  @map("sup_tel") @db.VarChar(13)
  /// 仕入先ＦＡＸ番号
  supFax        String?  @map("sup_fax") @db.VarChar(13)
  /// 仕入先メールアドレス
  supEmail      String?  @map("sup_email") @db.VarChar(100)
  /// 仕入先締日
  supCloseDate  Int      @map("sup_close_date") @db.Int
  /// 仕入先支払月
  supPayMonths  Int?     @map("sup_pay_months") @db.Int
  /// 仕入先支払日
  supPayDates   Int?     @map("sup_pay_dates") @db.Int
  /// 仕入先支払方法
  payMethodType Int?     @map("pay_method_type") @db.Int
  /// 作成日時
  createDate    DateTime @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator       String?  @db.VarChar(12)
  /// 更新日時
  updateDate    DateTime @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater       String?  @db.VarChar(12)

  company Company @relation(fields: [supCode], references: [compCode])

  @@id([supCode, supSubNo])
  @@map("supplier")
}

/// 取引先分類種別マスタテーブル
model CategoryType {
  /// 取引先分類種別コード
  categoryTypeCode  String            @id @map("category_type_code") @db.VarChar(2)
  /// 取引先分類種別名
  categoryTypeName  String?           @map("category_type_name") @db.VarChar(20)
  /// 作成日時
  createDate        DateTime          @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator           String?           @db.VarChar(12)
  /// 更新日時
  updateDate        DateTime          @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater           String?           @db.VarChar(12)

  companyCategories CompanyCategory[]

  @@map("category_type")
}

/// 取引先分類マスタテーブル
model CompanyCategory {
  /// 取引先分類種別コード
  categoryTypeCode      String                 @map("category_type_code") @db.VarChar(2)
  /// 取引先分類コード
  compCateCode          String                 @map("comp_cate_code") @db.VarChar(8)
  /// 取引先分類名
  compCateName          String?                @map("comp_cate_name") @db.VarChar(30)
  /// 作成日時
  createDate            DateTime               @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator               String?                @db.VarChar(12)
  /// 更新日時
  updateDate            DateTime               @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater               String?                @db.VarChar(12)

  companyCategoryGroups CompanyCategoryGroup[]
  categoryType          CategoryType?          @relation(fields: [categoryTypeCode], references: [categoryTypeCode])

  @@id([categoryTypeCode, compCateCode])
  @@map("company_category")
}

/// 取引先分類グループテーブル
model CompanyCategoryGroup {
  /// 取引先分類種別コード
  categoryTypeCode String   @map("category_type_code") @db.VarChar(2)
  /// 取引先分類コード
  compCateCode     String   @map("comp_cate_code") @db.VarChar(8)
  /// 取引先コード
  compCode         String   @map("comp_code") @db.VarChar(8)
  /// 作成日時
  createDate       DateTime @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator          String?  @db.VarChar(12)
  /// 更新日時
  updateDate       DateTime @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater          String?  @db.VarChar(12)

  companyCategory CompanyCategory @relation(fields: [categoryTypeCode, compCateCode], references: [categoryTypeCode, compCateCode])
  company         Company?        @relation(fields: [compCode], references: [compCode])

  @@id([categoryTypeCode, compCode, compCateCode])
  @@map("company_category_group")
}

/// 受注データテーブル
model Order {
  /// 受注番号
  orderNo      String        @id @map("order_no") @db.VarChar(10)
  /// 受注日
  orderDate    DateTime      @default(now()) @map("order_date") @db.DateTime(6)
  /// 部門コード
  deptCode     String        @map("dept_code") @db.VarChar(6)
  /// 部門開始日
  startDate    DateTime      @default(now()) @map("start_date") @db.DateTime(6)
  /// 顧客コード
  custCode     String        @map("cust_code") @db.VarChar(8)
  /// 顧客枝番
  custSubNo    Int?          @map("cust_sub_no") @db.Int
  /// 社員コード
  empCode      String        @map("emp_code") @db.VarChar(10)
  /// 希望納期
  requiredDate DateTime?     @map("required_date") @db.DateTime(6)
  /// 客先注文番号
  custorderNo  String?       @map("custorder_no") @db.VarChar(20)
  /// 倉庫コード
  whCode       String        @map("wh_code") @db.VarChar(3)
  /// 受注金額合計
  orderAmnt    Int           @map("order_amnt") @db.Int
  /// 消費税合計
  cmpTax       Int           @map("cmp_tax") @db.Int
  /// 備考
  slipComment  String?       @map("slip_comment") @db.VarChar(1000)
  /// 作成日時
  createDate   DateTime      @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator      String?       @db.VarChar(12)
  /// 更新日時
  updateDate   DateTime      @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater      String?       @db.VarChar(12)

  orderDetails OrderDetail[]

  @@map("order")
}

/// 受注明細テーブル
model OrderDetail {
  /// 受注番号
  orderNo          String    @map("order_no") @db.VarChar(10)
  /// 受注行番号
  soRowNo          Int       @map("so_row_no") @db.Int
  /// 商品コード
  prodCode         String    @map("prod_code") @db.VarChar(16)
  /// 商品名
  prodName         String    @map("prod_name") @db.VarChar(10)
  /// 販売単価
  unitprice        Int       @db.Int
  /// 受注数量
  quantity         Int       @db.Int
  /// 消費税率
  cmpTaxRate       Int?      @map("cmp_tax_rate") @db.Int
  /// 引当数量
  reserveQty       Int?      @map("reserve_qty") @db.Int
  /// 出荷指示数量
  deliveryOrderQty Int?      @map("delivery_order_qty") @db.Int
  /// 出荷済数量
  deliveredQty     Int?      @map("delivered_qty") @db.Int
  /// 完了フラグ
  completeFlg      Int       @map("complete_flg") @db.Int
  /// 値引金額
  discount         Int       @db.Int
  /// 納期
  deliveryDate     DateTime? @map("delivery_date") @db.DateTime(6)
  /// 作成日時
  createDate       DateTime  @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator          String?   @db.VarChar(12)
  /// 更新日時
  updateDate       DateTime  @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater          String?   @db.VarChar(12)

  order Order @relation(fields: [orderNo], references: [orderNo])

  @@id([orderNo, soRowNo])
  @@map("order_detail")
}

/// 売上データテーブル
model Sales {
  /// 売上番号
  salesNo     String   @id @map("sales_no") @db.VarChar(10)
  /// 受注番号
  orderNo     String   @map("order_no") @db.VarChar(10)
  /// 売上日
  salesDate   DateTime @default(now()) @map("sales_date") @db.DateTime(6)
  /// 売上区分
  salesType   Int?     @map("sales_type") @db.Int
  /// 部門コード
  deptCode    String   @map("dept_code") @db.VarChar(6)
  /// 部門開始日
  startDate   DateTime @default(now()) @map("start_date") @db.DateTime(6)
  /// 取引先コード
  compCode    String   @map("comp_code") @db.VarChar(8)
  /// 社員コード
  empCode     String   @map("emp_code") @db.VarChar(10)
  /// 売上金額合計
  salesAmnt   Int      @map("sales_amnt") @db.Int
  /// 消費税合計
  cmpTax      Int      @map("cmp_tax") @db.Int
  /// 備考
  slipComment String?  @map("slip_comment") @db.VarChar(1000)
  /// 赤黒伝票番号
  updatedNo   Int?     @map("updated_no") @db.Int
  /// 元伝票番号
  orgnlNo     String?  @map("orgnl_no") @db.VarChar(10)
  /// 作成日時
  createDate  DateTime @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator     String?  @db.VarChar(12)
  /// 更新日時
  updateDate  DateTime @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater     String?  @db.VarChar(12)

  salesDetails SalesDetail[]

  @@map("sales")
}

/// 売上明細テーブル
model SalesDetail {
  /// 売上番号
  salesNo          String    @map("sales_no") @db.VarChar(10)
  /// 売上行番号
  rowNo            Int       @map("row_no") @db.Int
  /// 商品コード
  prodCode         String    @map("prod_code") @db.VarChar(16)
  /// 商品名
  prodName         String    @map("prod_name") @db.VarChar(10)
  /// 販売単価
  unitprice        Int       @db.Int
  /// 出荷数量
  deliveredQty     Int?      @map("delivered_qty") @db.Int
  /// 売上数量
  quantity         Int       @db.Int
  /// 値引金額
  discount         Int       @db.Int
  /// 請求日
  invoicedDate     DateTime? @map("invoiced_date") @db.DateTime(6)
  /// 請求番号
  invoiceNo        String?   @map("invoice_no") @db.VarChar(10)
  /// 請求遅延区分
  invoiceDelayType Int?      @map("invoice_delay_type") @db.Int
  /// 自動仕訳日
  autoJournalDate  DateTime? @map("auto_journal_date") @db.DateTime(6)
  /// 作成日時
  createDate       DateTime  @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator          String?   @db.VarChar(12)
  /// 更新日時
  updateDate       DateTime  @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater          String?   @db.VarChar(12)

  sales Sales? @relation(fields: [salesNo], references: [salesNo])

  @@id([salesNo, rowNo])
  @@map("sales_detail")
}

/// 倉庫マスタテーブル
model Warehouse {
  /// 倉庫コード
  whCode     String   @id @map("wh_code") @db.VarChar(3)
  /// 倉庫名
  name       String   @db.VarChar(40)
  /// 作成日時
  createDate DateTime @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator    String?  @db.VarChar(12)
  /// 更新日時
  updateDate DateTime @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater    String?  @db.VarChar(12)

  stocks Stock[]

  @@map("warehouse")
}

/// 発注データテーブル
model PurchaseOrder {
  /// 発注番号
  poNo        String    @id @map("po_no") @db.VarChar(10)
  /// 発注日
  poDate      DateTime? @map("po_date") @db.DateTime(6)
  /// 受注番号
  orderNo     String    @map("order_no") @db.VarChar(10)
  /// 仕入先コード
  supCode     String    @map("sup_code") @db.VarChar(8)
  /// 仕入先枝番
  supSubNo    Int?      @map("sup_sub_no") @db.Int
  /// 発注担当者コード
  empCode     String    @map("emp_code") @db.VarChar(10)
  /// 指定納期
  dueDate     DateTime? @map("due_date") @db.DateTime(6)
  /// 倉庫コード
  whCode      String    @map("wh_code") @db.VarChar(3)
  /// 発注金額合計
  poAmnt      Int?      @map("po_amnt") @db.Int
  /// 消費税合計
  cmpTax      Int       @map("cmp_tax") @db.Int
  /// 備考
  slipComment String?   @map("slip_comment") @db.VarChar(1000)
  /// 作成日時
  createDate  DateTime  @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator     String?   @db.VarChar(12)
  /// 更新日時
  updateDate  DateTime  @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater     String?   @db.VarChar(12)

  purchaseOrderDetails PurchaseOrderDetail[]

  @@map("purchase_order")
}

/// 発注明細テーブル
model PurchaseOrderDetail {
  /// 発注番号
  poNo         String    @map("po_no") @db.VarChar(10)
  /// 発注行番号
  poRowNo      Int       @map("po_row_no") @db.Int
  /// 商品コード
  prodCode     String    @map("prod_code") @db.VarChar(16)
  /// 商品名
  prodName     String    @map("prod_name") @db.VarChar(10)
  /// 発注単価
  unitprice    Int       @db.Int
  /// 発注数量
  quantity     Int       @db.Int
  /// 消費税率
  cmpTaxRate   Int?      @map("cmp_tax_rate") @db.Int
  /// 入荷数量
  receivedQty  Int?      @map("received_qty") @db.Int
  /// 完了フラグ
  completeFlg  Int       @map("complete_flg") @db.Int
  /// 値引金額
  discount     Int       @db.Int
  /// 納期
  deliveryDate DateTime? @map("delivery_date") @db.DateTime(6)
  /// 作成日時
  createDate   DateTime  @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator      String?   @db.VarChar(12)
  /// 更新日時
  updateDate   DateTime  @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater      String?   @db.VarChar(12)

  purchaseOrder PurchaseOrder @relation(fields: [poNo], references: [poNo])

  @@id([poNo, poRowNo])
  @@map("purchase_order_detail")
}

/// 仕入データテーブル
model Purchase {
  /// 仕入番号
  puNo        String    @id @map("pu_no") @db.VarChar(10)
  /// 仕入日
  puDate      DateTime? @map("pu_date") @db.DateTime(6)
  /// 仕入先コード
  supCode     String    @map("sup_code") @db.VarChar(8)
  /// 仕入先枝番
  supSubNo    Int?      @map("sup_sub_no") @db.Int
  /// 仕入担当者コード
  empCode     String    @map("emp_code") @db.VarChar(10)
  /// 開始日
  startDate   DateTime  @default(now()) @map("start_date") @db.DateTime(6)
  /// 発注番号
  poNo        String?   @map("po_no") @db.VarChar(10)
  /// 部門コード
  deptCode    String    @map("dept_code") @db.VarChar(6)
  /// 仕入金額合計
  puAmmount   Int?      @map("pu_ammount") @db.Int
  /// 消費税合計
  cmpTax      Int       @map("cmp_tax") @db.Int
  /// 備考
  slipComment String?   @map("slip_comment") @db.VarChar(1000)
  /// 作成日時
  createDate  DateTime  @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator     String?   @db.VarChar(12)
  /// 更新日時
  updateDate  DateTime  @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater     String?   @db.VarChar(12)

  purchaseDetails PurchaseDetail[]

  @@map("purchase")
}

/// 仕入明細テーブル
model PurchaseDetail {
  /// 仕入番号
  puNo        String    @map("pu_no") @db.VarChar(10)
  /// 仕入行番号
  puRowNo     Int       @map("pu_row_no") @db.Int
  /// 商品コード
  prodCode    String    @map("prod_code") @db.VarChar(16)
  /// 商品名
  prodName    String    @map("prod_name") @db.VarChar(10)
  /// 仕入単価
  unitprice   Int       @db.Int
  /// 仕入数量
  quantity    Int       @db.Int
  /// 消費税率
  cmpTaxRate  Int?      @map("cmp_tax_rate") @db.Int
  /// 値引金額
  discount    Int       @db.Int
  /// ロット番号
  rotNo       String    @map("rot_no") @db.VarChar(20)
  /// 作成日時
  createDate  DateTime  @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator     String?   @db.VarChar(12)
  /// 更新日時
  updateDate  DateTime  @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater     String?   @db.VarChar(12)

  purchase Purchase @relation(fields: [puNo], references: [puNo])

  @@id([puNo, puRowNo])
  @@map("purchase_detail")
}

/// 在庫データテーブル
model Stock {
  /// 倉庫コード
  whCode           String    @map("wh_code") @db.VarChar(3)
  /// 商品コード
  prodCode         String    @map("prod_code") @db.VarChar(16)
  /// ロット番号
  rotNo            String    @map("rot_no") @db.VarChar(20)
  /// 在庫区分
  stockType        String    @map("stock_type") @db.VarChar(1)
  /// 良品区分
  qualityType      String    @map("quality_type") @db.VarChar(1)
  /// 実在庫数
  actual           Int       @db.Int
  /// 有効在庫数
  valid            Int       @db.Int
  /// 最終出荷日
  lastDeliveryDate DateTime? @map("last_delivery_date") @db.DateTime(6)
  /// 作成日時
  createDate       DateTime  @default(now()) @map("create_date") @db.DateTime(6)
  /// 作成者名
  creator          String?   @db.VarChar(12)
  /// 更新日時
  updateDate       DateTime  @default(now()) @map("update_date") @db.DateTime(6)
  /// 更新者名
  updater          String?   @db.VarChar(12)

  warehouse Warehouse @relation(fields: [whCode], references: [whCode])

  @@id([whCode, prodCode, rotNo, stockType, qualityType])
  @@map("stock")
}
