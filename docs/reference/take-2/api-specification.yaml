openapi: 3.0.3
info:
  title: ä¼šè­°å®¤äºˆç´„ã‚·ã‚¹ãƒ†ãƒ  API
  description: |
    ä¼šè­°å®¤äºˆç´„ã‚·ã‚¹ãƒ†ãƒ ã®RESTful APIä»•æ§˜æ›¸
    
    ## èªè¨¼æ–¹å¼
    - JWT Bearer Tokenèªè¨¼
    - èªè¨¼ãŒå¿…è¦ãªã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯ğŸ”’ãƒãƒ¼ã‚¯ã§è¡¨ç¤º
    
    ## æ¨©é™
    - MEMBER: ä¼šå“¡ï¼ˆäºˆç´„æ©Ÿèƒ½åˆ©ç”¨å¯èƒ½ï¼‰
    - STAFF: ã‚¹ã‚¿ãƒƒãƒ•ï¼ˆç®¡ç†æ©Ÿèƒ½åˆ©ç”¨å¯èƒ½ï¼‰
    
    ## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
    - 4xx: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¨ãƒ©ãƒ¼
    - 5xx: ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼
    - ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯å…±é€šãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
    
  version: 1.0.0
  contact:
    name: Development Team
  license:
    name: MIT

servers:
  - url: http://localhost:8080/api
    description: é–‹ç™ºç’°å¢ƒ
  - url: https://api.meeting-room-system.com/api
    description: æœ¬ç•ªç’°å¢ƒ

tags:
  - name: Authentication
    description: èªè¨¼é–¢é€£ (REQ-001)
  - name: Users
    description: åˆ©ç”¨è€…ç®¡ç† (REQ-002)
  - name: Meeting Rooms
    description: ä¼šè­°å®¤ç®¡ç†ãƒ»æ¤œç´¢ (REQ-004, REQ-008)
  - name: Reservations
    description: äºˆç´„ç®¡ç† (REQ-005, REQ-006, REQ-007)
  - name: Inquiries
    description: å•ã„åˆã‚ã›ç®¡ç† (REQ-003)

paths:
  # REQ-001: èªè¨¼
  /auth/login:
    post:
      tags: [Authentication]
      summary: ãƒ­ã‚°ã‚¤ãƒ³
      description: |
        ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã‚’è¡Œã„ã€JWT ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã—ã¾ã™
        - REQ-001: åˆ©ç”¨è€…èªè¨¼ã«å¯¾å¿œ
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
            example:
              username: "member001"
              password: "password123"
      responses:
        '200':
          description: èªè¨¼æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '400':
          $ref: '#/components/responses/BadRequest'

  /auth/logout:
    post:
      tags: [Authentication]
      summary: ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ ğŸ”’
      description: ç¾åœ¨ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ç„¡åŠ¹åŒ–ã—ã¾ã™
      security:
        - BearerAuth: []
      responses:
        '200':
          $ref: '#/components/responses/Success'
        '401':
          $ref: '#/components/responses/Unauthorized'

  # REQ-002: åˆ©ç”¨è€…ç®¡ç†
  /users:
    get:
      tags: [Users]
      summary: åˆ©ç”¨è€…ä¸€è¦§å–å¾— ğŸ”’ (STAFF)
      description: |
        å…¨åˆ©ç”¨è€…ã®ä¸€è¦§ã‚’å–å¾—ã—ã¾ã™
        - REQ-002: åˆ©ç”¨è€…ç®¡ç†ã«å¯¾å¿œ
        - STAFFæ¨©é™ãŒå¿…è¦
      security:
        - BearerAuth: []
      parameters:
        - name: role
          in: query
          schema:
            $ref: '#/components/schemas/UserRole'
          description: ãƒ­ãƒ¼ãƒ«ã§ãƒ•ã‚£ãƒ«ã‚¿
        - name: enabled
          in: query
          schema:
            type: boolean
          description: æœ‰åŠ¹/ç„¡åŠ¹ãƒ•ã‚£ãƒ«ã‚¿
      responses:
        '200':
          description: åˆ©ç”¨è€…ä¸€è¦§
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'

    post:
      tags: [Users]
      summary: åˆ©ç”¨è€…ç™»éŒ² ğŸ”’ (STAFF)
      description: |
        æ–°è¦åˆ©ç”¨è€…ã‚’ç™»éŒ²ã—ã¾ã™
        - REQ-002: åˆ©ç”¨è€…ç®¡ç†ã«å¯¾å¿œ
        - STAFFæ¨©é™ãŒå¿…è¦
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateUserRequest'
      responses:
        '201':
          description: åˆ©ç”¨è€…ç™»éŒ²æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '409':
          description: ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¾ãŸã¯ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒé‡è¤‡

  /users/{userId}:
    get:
      tags: [Users]
      summary: åˆ©ç”¨è€…è©³ç´°å–å¾— ğŸ”’
      description: æŒ‡å®šã•ã‚ŒãŸåˆ©ç”¨è€…ã®è©³ç´°æƒ…å ±ã‚’å–å¾—ã—ã¾ã™
      security:
        - BearerAuth: []
      parameters:
        - $ref: '#/components/parameters/UserId'
      responses:
        '200':
          description: åˆ©ç”¨è€…è©³ç´°
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'

    put:
      tags: [Users]
      summary: åˆ©ç”¨è€…æƒ…å ±æ›´æ–° ğŸ”’ (STAFF)
      description: |
        åˆ©ç”¨è€…æƒ…å ±ã‚’æ›´æ–°ã—ã¾ã™
        - REQ-002: åˆ©ç”¨è€…ç®¡ç†ã«å¯¾å¿œ
      security:
        - BearerAuth: []
      parameters:
        - $ref: '#/components/parameters/UserId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateUserRequest'
      responses:
        '200':
          description: æ›´æ–°æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

    delete:
      tags: [Users]
      summary: åˆ©ç”¨è€…å‰Šé™¤ ğŸ”’ (STAFF)
      description: |
        åˆ©ç”¨è€…ã‚’å‰Šé™¤ã—ã¾ã™ï¼ˆè«–ç†å‰Šé™¤ï¼‰
        - REQ-002: åˆ©ç”¨è€…ç®¡ç†ã«å¯¾å¿œ
      security:
        - BearerAuth: []
      parameters:
        - $ref: '#/components/parameters/UserId'
      responses:
        '200':
          $ref: '#/components/responses/Success'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  # REQ-004: ä¼šè­°å®¤æ¤œç´¢
  /meeting-rooms/search:
    get:
      tags: [Meeting Rooms]
      summary: ä¼šè­°å®¤æ¤œç´¢
      description: |
        åˆ©ç”¨å¯èƒ½ãªä¼šè­°å®¤ã‚’æ¤œç´¢ã—ã¾ã™
        - REQ-004: ä¼šè­°å®¤æ¤œç´¢ã«å¯¾å¿œ
        - èªè¨¼ä¸è¦ï¼ˆå…¬é–‹æ¤œç´¢ï¼‰
      parameters:
        - name: date
          in: query
          required: true
          schema:
            type: string
            format: date
          description: äºˆç´„å¸Œæœ›æ—¥
          example: "2024-12-01"
        - name: startTime
          in: query
          required: true
          schema:
            type: string
            format: time
          description: é–‹å§‹æ™‚åˆ»
          example: "10:00"
        - name: endTime
          in: query
          required: true
          schema:
            type: string
            format: time
          description: çµ‚äº†æ™‚åˆ»
          example: "12:00"
        - name: minCapacity
          in: query
          schema:
            type: integer
            minimum: 1
          description: æœ€å°å®šå“¡
          example: 6
      responses:
        '200':
          description: æ¤œç´¢çµæœ
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AvailableMeetingRoom'
        '400':
          $ref: '#/components/responses/BadRequest'

  # REQ-008: ä¼šè­°å®¤ç®¡ç†
  /meeting-rooms:
    get:
      tags: [Meeting Rooms]
      summary: ä¼šè­°å®¤ä¸€è¦§å–å¾— ğŸ”’ (STAFF)
      description: |
        å…¨ä¼šè­°å®¤ã®ä¸€è¦§ã‚’å–å¾—ã—ã¾ã™
        - REQ-008: ä¼šè­°å®¤ç®¡ç†ã«å¯¾å¿œ
      security:
        - BearerAuth: []
      parameters:
        - name: isActive
          in: query
          schema:
            type: boolean
          description: æœ‰åŠ¹/ç„¡åŠ¹ãƒ•ã‚£ãƒ«ã‚¿
      responses:
        '200':
          description: ä¼šè­°å®¤ä¸€è¦§
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/MeetingRoomResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'

    post:
      tags: [Meeting Rooms]
      summary: ä¼šè­°å®¤ç™»éŒ² ğŸ”’ (STAFF)
      description: |
        æ–°è¦ä¼šè­°å®¤ã‚’ç™»éŒ²ã—ã¾ã™
        - REQ-008: ä¼šè­°å®¤ç®¡ç†ã«å¯¾å¿œ
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateMeetingRoomRequest'
      responses:
        '201':
          description: ä¼šè­°å®¤ç™»éŒ²æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MeetingRoomResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'

  /meeting-rooms/{roomId}:
    get:
      tags: [Meeting Rooms]
      summary: ä¼šè­°å®¤è©³ç´°å–å¾—
      description: æŒ‡å®šã•ã‚ŒãŸä¼šè­°å®¤ã®è©³ç´°æƒ…å ±ã‚’å–å¾—ã—ã¾ã™
      parameters:
        - $ref: '#/components/parameters/RoomId'
      responses:
        '200':
          description: ä¼šè­°å®¤è©³ç´°
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MeetingRoomResponse'
        '404':
          $ref: '#/components/responses/NotFound'

    put:
      tags: [Meeting Rooms]
      summary: ä¼šè­°å®¤æ›´æ–° ğŸ”’ (STAFF)
      description: |
        ä¼šè­°å®¤æƒ…å ±ã‚’æ›´æ–°ã—ã¾ã™
        - REQ-008: ä¼šè­°å®¤ç®¡ç†ã«å¯¾å¿œ
      security:
        - BearerAuth: []
      parameters:
        - $ref: '#/components/parameters/RoomId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateMeetingRoomRequest'
      responses:
        '200':
          description: æ›´æ–°æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MeetingRoomResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

    delete:
      tags: [Meeting Rooms]
      summary: ä¼šè­°å®¤å‰Šé™¤ ğŸ”’ (STAFF)
      description: |
        ä¼šè­°å®¤ã‚’å‰Šé™¤ã—ã¾ã™ï¼ˆè«–ç†å‰Šé™¤ï¼‰
        - REQ-008: ä¼šè­°å®¤ç®¡ç†ã«å¯¾å¿œ
      security:
        - BearerAuth: []
      parameters:
        - $ref: '#/components/parameters/RoomId'
      responses:
        '200':
          $ref: '#/components/responses/Success'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  # REQ-005,006,007: äºˆç´„ç®¡ç†
  /reservations:
    get:
      tags: [Reservations]
      summary: äºˆç´„ä¸€è¦§å–å¾— ğŸ”’
      description: |
        äºˆç´„ä¸€è¦§ã‚’å–å¾—ã—ã¾ã™
        - REQ-006: äºˆç´„ç¢ºèªã«å¯¾å¿œ
        - MEMBER: è‡ªåˆ†ã®äºˆç´„ã®ã¿
        - STAFF: å…¨äºˆç´„
      security:
        - BearerAuth: []
      parameters:
        - name: userId
          in: query
          schema:
            type: integer
            format: int64
          description: ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆSTAFFæ¨©é™æ™‚ã®ã¿æœ‰åŠ¹ï¼‰
        - name: status
          in: query
          schema:
            $ref: '#/components/schemas/ReservationStatus'
          description: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿
        - name: dateFrom
          in: query
          schema:
            type: string
            format: date
          description: é–‹å§‹æ—¥
        - name: dateTo
          in: query
          schema:
            type: string
            format: date
          description: çµ‚äº†æ—¥
      responses:
        '200':
          description: äºˆç´„ä¸€è¦§
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ReservationResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'

    post:
      tags: [Reservations]
      summary: äºˆç´„ä½œæˆ ğŸ”’
      description: |
        æ–°è¦äºˆç´„ã‚’ä½œæˆã—ã¾ã™
        - REQ-005: ä¼šè­°å®¤äºˆç´„ã«å¯¾å¿œ
        - é‡è¤‡ãƒã‚§ãƒƒã‚¯ã€å–¶æ¥­æ™‚é–“ãƒã‚§ãƒƒã‚¯ã€å®šå“¡ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œ
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateReservationRequest'
      responses:
        '201':
          description: äºˆç´„ä½œæˆæˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReservationResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '409':
          description: äºˆç´„ç«¶åˆã‚¨ãƒ©ãƒ¼
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                code: "RESERVATION_CONFLICT"
                message: "æŒ‡å®šã•ã‚ŒãŸæ™‚é–“å¸¯ã¯æ—¢ã«äºˆç´„ã•ã‚Œã¦ã„ã¾ã™"
                details: "2024-12-01 10:00-12:00ã¯ä¼šè­°å®¤A ãŒäºˆç´„æ¸ˆã¿ã§ã™"

  /reservations/{reservationId}:
    get:
      tags: [Reservations]
      summary: äºˆç´„è©³ç´°å–å¾— ğŸ”’
      description: |
        æŒ‡å®šã•ã‚ŒãŸäºˆç´„ã®è©³ç´°æƒ…å ±ã‚’å–å¾—ã—ã¾ã™
        - REQ-006: äºˆç´„ç¢ºèªã«å¯¾å¿œ
      security:
        - BearerAuth: []
      parameters:
        - $ref: '#/components/parameters/ReservationId'
      responses:
        '200':
          description: äºˆç´„è©³ç´°
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReservationResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          description: ä»–äººã®äºˆç´„ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆMEMBERã®å ´åˆï¼‰
        '404':
          $ref: '#/components/responses/NotFound'

    delete:
      tags: [Reservations]
      summary: äºˆç´„å–æ¶ˆ ğŸ”’
      description: |
        äºˆç´„ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¾ã™
        - REQ-007: äºˆç´„å–æ¶ˆã«å¯¾å¿œ
        - åˆ©ç”¨é–‹å§‹2æ™‚é–“å‰ã¾ã§å–æ¶ˆå¯èƒ½
      security:
        - BearerAuth: []
      parameters:
        - $ref: '#/components/parameters/ReservationId'
      responses:
        '200':
          $ref: '#/components/responses/Success'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          description: ä»–äººã®äºˆç´„ã®å–æ¶ˆï¼ˆMEMBERã®å ´åˆï¼‰
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          description: å–æ¶ˆæœŸé™è¶…é
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              example:
                code: "CANCELLATION_DEADLINE_EXCEEDED"
                message: "å–æ¶ˆæœŸé™ã‚’éãã¦ã„ã¾ã™"
                details: "åˆ©ç”¨é–‹å§‹2æ™‚é–“å‰ã¾ã§å–æ¶ˆå¯èƒ½ã§ã™"

  # REQ-003: å•ã„åˆã‚ã›ç®¡ç†
  /inquiries:
    get:
      tags: [Inquiries]
      summary: å•ã„åˆã‚ã›ä¸€è¦§å–å¾— ğŸ”’ (STAFF)
      description: |
        å•ã„åˆã‚ã›ä¸€è¦§ã‚’å–å¾—ã—ã¾ã™
        - REQ-003: å•ã„åˆã‚ã›ç®¡ç†ã«å¯¾å¿œ
        - STAFFæ¨©é™ãŒå¿…è¦
      security:
        - BearerAuth: []
      parameters:
        - name: status
          in: query
          schema:
            $ref: '#/components/schemas/InquiryStatus'
          description: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚£ãƒ«ã‚¿
        - name: category
          in: query
          schema:
            $ref: '#/components/schemas/InquiryCategory'
          description: ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿
        - name: priority
          in: query
          schema:
            $ref: '#/components/schemas/InquiryPriority'
          description: å„ªå…ˆåº¦ãƒ•ã‚£ãƒ«ã‚¿
      responses:
        '200':
          description: å•ã„åˆã‚ã›ä¸€è¦§
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/InquiryResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'

    post:
      tags: [Inquiries]
      summary: å•ã„åˆã‚ã›é€ä¿¡
      description: |
        æ–°è¦å•ã„åˆã‚ã›ã‚’é€ä¿¡ã—ã¾ã™
        - REQ-003: å•ã„åˆã‚ã›ç®¡ç†ã«å¯¾å¿œ
        - èªè¨¼ä¸è¦ï¼ˆã‚²ã‚¹ãƒˆã‚‚åˆ©ç”¨å¯èƒ½ï¼‰
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateInquiryRequest'
      responses:
        '201':
          description: å•ã„åˆã‚ã›é€ä¿¡æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InquiryResponse'
        '400':
          $ref: '#/components/responses/BadRequest'

  /inquiries/{inquiryId}:
    get:
      tags: [Inquiries]
      summary: å•ã„åˆã‚ã›è©³ç´°å–å¾— ğŸ”’ (STAFF)
      description: |
        æŒ‡å®šã•ã‚ŒãŸå•ã„åˆã‚ã›ã®è©³ç´°æƒ…å ±ã‚’å–å¾—ã—ã¾ã™
        - REQ-003: å•ã„åˆã‚ã›ç®¡ç†ã«å¯¾å¿œ
      security:
        - BearerAuth: []
      parameters:
        - $ref: '#/components/parameters/InquiryId'
      responses:
        '200':
          description: å•ã„åˆã‚ã›è©³ç´°
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InquiryResponse'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

    put:
      tags: [Inquiries]
      summary: å•ã„åˆã‚ã›å¯¾å¿œ ğŸ”’ (STAFF)
      description: |
        å•ã„åˆã‚ã›ã«å¯¾å¿œã—ã¾ã™ï¼ˆå›ç­”ãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°ï¼‰
        - REQ-003: å•ã„åˆã‚ã›ç®¡ç†ã«å¯¾å¿œ
      security:
        - BearerAuth: []
      parameters:
        - $ref: '#/components/parameters/InquiryId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RespondInquiryRequest'
      responses:
        '200':
          description: å¯¾å¿œå®Œäº†
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InquiryResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  parameters:
    UserId:
      name: userId
      in: path
      required: true
      schema:
        type: integer
        format: int64
      description: ãƒ¦ãƒ¼ã‚¶ãƒ¼ID

    RoomId:
      name: roomId
      in: path
      required: true
      schema:
        type: integer
        format: int64
      description: ä¼šè­°å®¤ID

    ReservationId:
      name: reservationId
      in: path
      required: true
      schema:
        type: integer
        format: int64
      description: äºˆç´„ID

    InquiryId:
      name: inquiryId
      in: path
      required: true
      schema:
        type: integer
        format: int64
      description: å•ã„åˆã‚ã›ID

  schemas:
    # èªè¨¼é–¢é€£
    LoginRequest:
      type: object
      required: [username, password]
      properties:
        username:
          type: string
          example: "member001"
        password:
          type: string
          format: password
          example: "password123"

    AuthResponse:
      type: object
      properties:
        accessToken:
          type: string
          description: JWT ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³
        tokenType:
          type: string
          example: "Bearer"
        expiresIn:
          type: integer
          description: ãƒˆãƒ¼ã‚¯ãƒ³æœ‰åŠ¹æœŸé™ï¼ˆç§’ï¼‰
          example: 7200
        user:
          $ref: '#/components/schemas/UserResponse'

    # ãƒ¦ãƒ¼ã‚¶ãƒ¼é–¢é€£
    UserRole:
      type: string
      enum: [STAFF, MEMBER]
      description: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¨©é™

    CreateUserRequest:
      type: object
      required: [username, email, password, firstName, lastName, role]
      properties:
        username:
          type: string
          minLength: 3
          maxLength: 50
          pattern: '^[a-zA-Z0-9_]+$'
          example: "member001"
        email:
          type: string
          format: email
          example: "member001@example.com"
        password:
          type: string
          minLength: 8
          format: password
          example: "password123"
        firstName:
          type: string
          maxLength: 50
          example: "å±±ç”°"
        lastName:
          type: string
          maxLength: 50
          example: "å¤ªéƒ"
        role:
          $ref: '#/components/schemas/UserRole'

    UpdateUserRequest:
      type: object
      properties:
        firstName:
          type: string
          maxLength: 50
        lastName:
          type: string
          maxLength: 50
        email:
          type: string
          format: email
        enabled:
          type: boolean

    UserResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          example: 1
        username:
          type: string
          example: "member001"
        email:
          type: string
          example: "member001@example.com"
        firstName:
          type: string
          example: "å±±ç”°"
        lastName:
          type: string
          example: "å¤ªéƒ"
        role:
          $ref: '#/components/schemas/UserRole'
        enabled:
          type: boolean
          example: true
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    # ä¼šè­°å®¤é–¢é€£
    CreateMeetingRoomRequest:
      type: object
      required: [roomNumber, roomName, capacity, location, hourlyRate]
      properties:
        roomNumber:
          type: string
          maxLength: 20
          example: "A-101"
        roomName:
          type: string
          maxLength: 100
          example: "ä¼šè­°å®¤A"
        capacity:
          type: integer
          minimum: 1
          example: 10
        location:
          type: string
          maxLength: 200
          example: "1éš æ±å´"
        description:
          type: string
          example: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚¿ãƒ¼å®Œå‚™"
        hourlyRate:
          type: number
          format: decimal
          minimum: 0
          example: 1000
        equipment:
          type: array
          items:
            type: string
          example: ["ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚¿ãƒ¼", "ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰", "WiFi"]

    UpdateMeetingRoomRequest:
      type: object
      properties:
        roomName:
          type: string
          maxLength: 100
        capacity:
          type: integer
          minimum: 1
        location:
          type: string
          maxLength: 200
        description:
          type: string
        hourlyRate:
          type: number
          format: decimal
          minimum: 0
        equipment:
          type: array
          items:
            type: string
        isActive:
          type: boolean

    MeetingRoomResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          example: 1
        roomNumber:
          type: string
          example: "A-101"
        roomName:
          type: string
          example: "ä¼šè­°å®¤A"
        capacity:
          type: integer
          example: 10
        location:
          type: string
          example: "1éš æ±å´"
        description:
          type: string
          example: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚¿ãƒ¼å®Œå‚™"
        hourlyRate:
          type: number
          format: decimal
          example: 1000
        equipment:
          type: array
          items:
            type: string
          example: ["ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚¿ãƒ¼", "ãƒ›ãƒ¯ã‚¤ãƒˆãƒœãƒ¼ãƒ‰", "WiFi"]
        isActive:
          type: boolean
          example: true
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    AvailableMeetingRoom:
      allOf:
        - $ref: '#/components/schemas/MeetingRoomResponse'
        - type: object
          properties:
            availableTimeSlots:
              type: array
              items:
                type: object
                properties:
                  startTime:
                    type: string
                    format: time
                  endTime:
                    type: string
                    format: time
              example:
                - startTime: "09:00"
                  endTime: "10:00"
                - startTime: "14:00"
                  endTime: "18:00"

    # äºˆç´„é–¢é€£
    ReservationStatus:
      type: string
      enum: [CONFIRMED, CANCELLED]
      description: äºˆç´„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

    CreateReservationRequest:
      type: object
      required: [meetingRoomId, reservationDate, startTime, endTime, purpose, attendeeCount]
      properties:
        meetingRoomId:
          type: integer
          format: int64
          example: 1
        reservationDate:
          type: string
          format: date
          example: "2024-12-01"
        startTime:
          type: string
          format: time
          example: "10:00"
        endTime:
          type: string
          format: time
          example: "12:00"
        purpose:
          type: string
          maxLength: 200
          example: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ‰“ã¡åˆã‚ã›"
        attendeeCount:
          type: integer
          minimum: 1
          example: 6
        notes:
          type: string
          example: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚¿ãƒ¼ä½¿ç”¨äºˆå®š"

    ReservationResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          example: 1
        user:
          $ref: '#/components/schemas/UserResponse'
        meetingRoom:
          $ref: '#/components/schemas/MeetingRoomResponse'
        reservationDate:
          type: string
          format: date
          example: "2024-12-01"
        startTime:
          type: string
          format: time
          example: "10:00"
        endTime:
          type: string
          format: time
          example: "12:00"
        purpose:
          type: string
          example: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ‰“ã¡åˆã‚ã›"
        attendeeCount:
          type: integer
          example: 6
        status:
          $ref: '#/components/schemas/ReservationStatus'
        notes:
          type: string
          example: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚¿ãƒ¼ä½¿ç”¨äºˆå®š"
        totalCost:
          type: number
          format: decimal
          description: åˆ©ç”¨æ–™é‡‘ï¼ˆæ™‚é–“å˜ä¾¡ Ã— åˆ©ç”¨æ™‚é–“ï¼‰
          example: 2000
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    # å•ã„åˆã‚ã›é–¢é€£
    InquiryCategory:
      type: string
      enum: [GENERAL, RESERVATION, PRICING, TECHNICAL, COMPLAINT]
      description: å•ã„åˆã‚ã›ã‚«ãƒ†ã‚´ãƒª

    InquiryPriority:
      type: string
      enum: [NORMAL, HIGH, URGENT]
      description: å•ã„åˆã‚ã›å„ªå…ˆåº¦

    InquiryStatus:
      type: string
      enum: [OPEN, IN_PROGRESS, RESOLVED, CLOSED]
      description: å•ã„åˆã‚ã›ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

    CreateInquiryRequest:
      type: object
      required: [subject, message, category]
      properties:
        name:
          type: string
          maxLength: 100
          description: æ°åï¼ˆã‚²ã‚¹ãƒˆã®å ´åˆã¯å¿…é ˆã€ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ã®å ´åˆã¯ä»»æ„ï¼‰
          example: "ç”°ä¸­èŠ±å­"
        email:
          type: string
          format: email
          description: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆã‚²ã‚¹ãƒˆã®å ´åˆã¯å¿…é ˆã€ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ã®å ´åˆã¯ä»»æ„ï¼‰
          example: "tanaka@example.com"
        subject:
          type: string
          maxLength: 200
          example: "äºˆç´„æ–¹æ³•ã«ã¤ã„ã¦"
        message:
          type: string
          example: "ä¼šè­°å®¤ã®äºˆç´„æ–¹æ³•ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚"
        category:
          $ref: '#/components/schemas/InquiryCategory'
        priority:
          $ref: '#/components/schemas/InquiryPriority'
          default: NORMAL

    RespondInquiryRequest:
      type: object
      required: [response, status]
      properties:
        response:
          type: string
          example: "ä¼šè­°å®¤ã®äºˆç´„ã¯ã€ãƒ­ã‚°ã‚¤ãƒ³å¾Œã«ä¼šè­°å®¤æ¤œç´¢ç”»é¢ã‹ã‚‰è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚"
        status:
          $ref: '#/components/schemas/InquiryStatus'

    InquiryResponse:
      type: object
      properties:
        id:
          type: integer
          format: int64
          example: 1
        user:
          $ref: '#/components/schemas/UserResponse'
          description: ä¼šå“¡ã®å•ã„åˆã‚ã›ã®å ´åˆã®ã¿
        guestName:
          type: string
          example: "ç”°ä¸­èŠ±å­"
          description: ã‚²ã‚¹ãƒˆã®å•ã„åˆã‚ã›ã®å ´åˆã®ã¿
        guestEmail:
          type: string
          format: email
          example: "tanaka@example.com"
          description: ã‚²ã‚¹ãƒˆã®å•ã„åˆã‚ã›ã®å ´åˆã®ã¿
        subject:
          type: string
          example: "äºˆç´„æ–¹æ³•ã«ã¤ã„ã¦"
        message:
          type: string
          example: "ä¼šè­°å®¤ã®äºˆç´„æ–¹æ³•ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚"
        category:
          $ref: '#/components/schemas/InquiryCategory'
        priority:
          $ref: '#/components/schemas/InquiryPriority'
        status:
          $ref: '#/components/schemas/InquiryStatus'
        assignedStaff:
          $ref: '#/components/schemas/UserResponse'
          description: æ‹…å½“ã‚¹ã‚¿ãƒƒãƒ•ï¼ˆå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹å ´åˆã®ã¿ï¼‰
        response:
          type: string
          example: "ä¼šè­°å®¤ã®äºˆç´„ã¯ã€ãƒ­ã‚°ã‚¤ãƒ³å¾Œã«ä¼šè­°å®¤æ¤œç´¢ç”»é¢ã‹ã‚‰è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚"
          description: å›ç­”ï¼ˆå¯¾å¿œæ¸ˆã¿ã®å ´åˆã®ã¿ï¼‰
        respondedAt:
          type: string
          format: date-time
          description: å›ç­”æ—¥æ™‚ï¼ˆå¯¾å¿œæ¸ˆã¿ã®å ´åˆã®ã¿ï¼‰
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    # å…±é€šãƒ¬ã‚¹ãƒãƒ³ã‚¹
    ErrorResponse:
      type: object
      properties:
        code:
          type: string
          description: ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰
          example: "VALIDATION_ERROR"
        message:
          type: string
          description: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
          example: "å…¥åŠ›å€¤ã«èª¤ã‚ŠãŒã‚ã‚Šã¾ã™"
        details:
          type: string
          description: è©³ç´°æƒ…å ±
          example: "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯8æ–‡å­—ä»¥ä¸Šã§å…¥åŠ›ã—ã¦ãã ã•ã„"
        timestamp:
          type: string
          format: date-time
          description: ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚åˆ»

    SuccessResponse:
      type: object
      properties:
        message:
          type: string
          example: "å‡¦ç†ãŒå®Œäº†ã—ã¾ã—ãŸ"
        timestamp:
          type: string
          format: date-time

  responses:
    Success:
      description: å‡¦ç†æˆåŠŸ
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SuccessResponse'

    BadRequest:
      description: ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒä¸æ­£ã§ã™
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            code: "VALIDATION_ERROR"
            message: "å…¥åŠ›å€¤ã«èª¤ã‚ŠãŒã‚ã‚Šã¾ã™"
            details: "å¿…é ˆé …ç›®ãŒä¸è¶³ã—ã¦ã„ã¾ã™"
            timestamp: "2024-12-01T10:30:00Z"

    Unauthorized:
      description: èªè¨¼ãŒå¿…è¦ã§ã™
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            code: "UNAUTHORIZED"
            message: "èªè¨¼ãŒå¿…è¦ã§ã™"
            details: "æœ‰åŠ¹ãªJWTãƒˆãƒ¼ã‚¯ãƒ³ã‚’è¨­å®šã—ã¦ãã ã•ã„"
            timestamp: "2024-12-01T10:30:00Z"

    Forbidden:
      description: æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            code: "FORBIDDEN"
            message: "ã“ã®æ“ä½œã‚’å®Ÿè¡Œã™ã‚‹æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“"
            details: "STAFFæ¨©é™ãŒå¿…è¦ã§ã™"
            timestamp: "2024-12-01T10:30:00Z"

    NotFound:
      description: ãƒªã‚½ãƒ¼ã‚¹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            code: "NOT_FOUND"
            message: "æŒ‡å®šã•ã‚ŒãŸãƒªã‚½ãƒ¼ã‚¹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
            details: "ID: 123 ã®ä¼šè­°å®¤ã¯å­˜åœ¨ã—ã¾ã›ã‚“"
            timestamp: "2024-12-01T10:30:00Z"