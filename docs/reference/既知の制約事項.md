# MRS 既知の制約事項・注意点

最終更新: 2025-09-03  
対象バージョン: イテレーション3完了版  
分類: 機能制約、技術制約、運用制約、今後の改善予定

## 1. 機能制約

### 1.1 予約機能の制約

#### 時間単位の制約
- **制約**: 予約は30分単位でのみ可能
- **影響**: 15分や1時間15分などの予約は不可
- **回避方法**: 30分刻みでの予約計画
- **優先度**: 中（将来的に15分単位対応予定）

#### 予約期間の制約
- **制約**: 当日から30日後までの予約のみ可能
- **影響**: 長期的な会議室確保が困難
- **回避方法**: 複数回に分けた予約
- **優先度**: 低

#### 連続予約の制約
- **制約**: 連続した時間帯の一括予約機能なし
- **影響**: 長時間会議では個別に予約が必要
- **回避方法**: 手動で複数時間帯を予約
- **優先度**: 中（イテレーション4で改善検討）

### 1.2 ユーザー管理の制約

#### ユーザー登録
- **制約**: 管理者による手動登録のみ
- **影響**: 自動ユーザー登録機能なし
- **回避方法**: 管理者に登録申請
- **優先度**: 中

#### 権限設定
- **制約**: USER/ADMINの2段階のみ
- **影響**: 部署単位やプロジェクト単位の権限設定不可
- **回避方法**: 管理者による個別対応
- **優先度**: 低

### 1.3 通知機能の制約

#### 予約通知
- **制約**: 予約完了・キャンセル通知機能なし
- **影響**: ユーザーは手動で確認が必要
- **回避方法**: 定期的な予約状況確認
- **優先度**: 中

#### リマインダー機能
- **制約**: 会議前のリマインダー機能なし
- **影響**: 会議忘れのリスク
- **回避方法**: 外部カレンダーとの連携
- **優先度**: 中

## 2. 技術制約

### 2.1 データベース制約

#### データベース種類
- **制約**: 開発環境はH2インメモリDB
- **影響**: アプリ再起動でデータ消失
- **回避方法**: 本番環境ではPostgreSQL使用予定
- **優先度**: 高（イテレーション4で対応）

#### 同時接続数
- **制約**: 設計上100同時ユーザー
- **影響**: 大規模組織での利用制限
- **回避方法**: 負荷分散、スケールアウト
- **優先度**: 中

#### バックアップ
- **制約**: 自動バックアップ機能なし
- **影響**: 手動バックアップが必要
- **回避方法**: 定期バックアップスクリプト実行
- **優先度**: 高

### 2.2 セキュリティ制約

#### JWT有効期限
- **制約**: 24時間固定、自動延長なし
- **影響**: 長時間利用時の再ログイン必要
- **回避方法**: 定期的な再ログイン
- **優先度**: 中

#### HTTPS対応
- **制約**: 開発環境はHTTP通信
- **影響**: 通信の平文送信
- **回避方法**: 本番環境ではHTTPS必須
- **優先度**: 高

#### CSRFトークン
- **制約**: APIでのCSRF対策は部分的
- **影響**: クロスサイトリクエストフォージェリのリスク
- **回避方法**: フロントエンドでのOriginチェック
- **優先度**: 中

### 2.3 パフォーマンス制約

#### レスポンス時間
- **制約**: 重いクエリ時に3秒超過の可能性
- **影響**: ユーザー体験の悪化
- **回避方法**: クエリ最適化、インデックス追加
- **優先度**: 中

#### ファイルアップロード
- **制約**: ファイル添付機能なし
- **影響**: 会議資料の共有不可
- **回避方法**: 外部ファイル共有サービス利用
- **優先度**: 低

## 3. 運用制約

### 3.1 監視・アラート

#### 監視システム
- **制約**: 基本的なヘルスチェックのみ
- **影響**: 詳細な監視が困難
- **回避方法**: 外部監視ツール導入
- **優先度**: 中

#### ログ管理
- **制約**: ログローテーション機能が基本的
- **影響**: ディスク容量圧迫の可能性
- **回避方法**: 手動でのログ管理
- **優先度**: 中

### 3.2 スケーラビリティ

#### 水平スケーリング
- **制約**: 単一インスタンスでの運用想定
- **影響**: 高負荷時の性能劣化
- **回避方法**: 垂直スケーリング（リソース追加）
- **優先度**: 中

#### データベース分散
- **制約**: 単一DBでの運用
- **影響**: DB障害時の全システム停止
- **回避方法**: レプリケーション設定
- **優先度**: 高

## 4. ブラウザ・環境制約

### 4.1 対応ブラウザ

#### 動作確認済み
- **Chrome**: 最新版 ✅
- **Firefox**: 最新版 ✅  
- **Safari**: 最新版 ✅
- **Edge**: 最新版 ✅

#### 制約事項
- **IE11**: 未対応 ❌
- **古いモバイルブラウザ**: 動作未確認
- **JavaScript無効**: 動作不可

### 4.2 モバイル対応

#### 制約
- **制約**: レスポンシブデザインは基本対応のみ
- **影響**: スマートフォンでの操作性に制限
- **回避方法**: PCブラウザでの利用推奨
- **優先度**: 中

## 5. 負荷テスト・品質制約

### 5.1 負荷テスト制約

#### 並行処理テスト
- **制約**: Spring Boot統合テスト環境でのBean定義不足
- **影響**: 負荷テスト（ConcurrentReservationTest）が失敗
- **回避方法**: @TestConfiguration設定追加が必要
- **優先度**: 中（機能には影響なし）

#### 実環境負荷テスト
- **制約**: JMeterテストは手動実行のみ
- **影響**: CI/CDパイプラインでの自動化未対応
- **回避方法**: 手動でのスクリプト実行
- **優先度**: 低

### 5.2 静的解析制約

#### PMD警告
- **制約**: Cucumberステップ定義のCyclomaticComplexity警告
- **影響**: 品質ゲートでの警告（機能影響なし）
- **回避方法**: E2Eテスト用コードのため対応不要
- **優先度**: 低

#### SpotBugs警告
- **制約**: E2Eテスト用コードでnull参照警告
- **影響**: 品質ゲートでの警告（機能影響なし）
- **回避方法**: テスト専用コードのため許容範囲
- **優先度**: 低

## 6. 改善予定・ロードマップ

### 6.1 イテレーション4対応予定

#### 高優先度
- [ ] PostgreSQL対応とデータベース永続化
- [ ] HTTPS通信対応
- [ ] 自動バックアップ機能
- [ ] 詳細な監視・アラート機能

#### 中優先度
- [ ] ユーザー自己登録機能
- [ ] 予約通知機能
- [ ] JWTトークン自動更新機能
- [ ] 負荷テストSpring設定修正

### 6.2 将来バージョン対応予定

#### 機能拡張
- [ ] 15分単位予約対応
- [ ] 連続予約機能
- [ ] ファイル添付機能
- [ ] カレンダー連携機能
- [ ] モバイルアプリ対応

#### 技術改善
- [ ] マイクロサービス化
- [ ] Redis によるセッション管理
- [ ] Elasticsearch によるログ検索
- [ ] Docker による コンテナ化
- [ ] Kubernetes による オーケストレーション

## 7. 回避策・ベストプラクティス

### 7.1 ユーザー向け回避策

#### 予約管理
- **長時間会議**: 30分単位で複数予約を取る
- **定期会議**: 手動で毎週同じ時間を予約
- **キャンセル忘れ**: 定期的な予約確認
- **権限エラー**: 管理者に相談

#### システム利用
- **ログイン維持**: 24時間以内に再ログイン
- **データ消失対策**: 重要な予約は別途記録
- **ブラウザ推奨**: Chrome/Firefox最新版使用

### 7.2 管理者向け回避策

#### 運用管理
- **手動バックアップ**: 日次でDBバックアップ実行
- **ログ監視**: 定期的なエラーログ確認
- **負荷監視**: 同時接続数の監視
- **障害対応**: エスカレーション手順の遵守

#### セキュリティ
- **HTTPS必須**: 本番環境では必ず適用
- **定期パスワード変更**: 管理者アカウントは3ヶ月毎
- **アクセスログ監査**: 不正アクセスの定期確認

## 8. サポート・問い合わせ

### 8.1 制約に関する問い合わせ先

- **機能制約**: 開発チーム
- **技術制約**: インフラチーム  
- **運用制約**: 運用チーム

### 8.2 改善要望の提出

改善要望は以下の情報とともに提出してください：

1. **現在の制約内容**
2. **業務への影響度**
3. **希望する改善内容**
4. **優先度（高/中/低）**
5. **回避策の有無**

---

**注意**: 本文書は定期的に見直し、新たな制約や解決した制約について更新します。システム利用前に最新版をご確認ください。