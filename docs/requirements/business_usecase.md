# ビジネスユースケース仕様書 - 会議室予約システム

## BUC001:🖥️会議室検索🌊

**使用時のコンテキスト**: 会員が利用可能な会議室を探したい場合、または急な会議のために空室を確認したい場合

**スコープ**: 会議室予約システム

**レベル**: ユーザー目的

**主アクター**: 会員

**利害関係者と利益**:
- 会員: 利用可能な会議室を迅速に見つけたい
- 施設運営者: 会議室の稼働率を向上させたい
- スタッフ: 問い合わせ対応を削減したい

**事前条件**:
- 会員として登録済みである
- システムにログインしている
- 会議室情報がシステムに登録されている

**最低保証**: システムの応答性が保たれ、検索結果が適切に表示される

**成功保証時**: 会員が希望条件に合う利用可能な会議室を見つけることができる

**トリガー**: 会員が会議室検索画面にアクセスする

**主成功シナリオ**:
1. 会員が検索条件（日時、定員、設備）を入力する
2. システムが利用可能な会議室を検索する
3. システムが検索結果を一覧表示する
4. 会員が希望する会議室を選択する
5. システムが選択した会議室の詳細情報を表示する

**拡張**:
- 2a. 検索条件に該当する会議室がない場合: 代替候補を提案する
- 4a. 会員が条件を変更したい場合: ステップ1に戻る
- 5a. 詳細情報表示中にエラーが発生: エラーメッセージを表示し、ステップ3に戻る

**技術およびデータのバリエーションリスト**:
- 1a. Web画面からの検索
- 1b. モバイルアプリからの検索
- 3a. リスト表示
- 3b. カレンダー表示

**関連情報**:
- 会議室情報、設備情報、予約情報と連携
- 検索パフォーマンスは1秒以内を目標

---

## BUC002:🖥️予約作成🌊

**使用時のコンテキスト**: 会員が希望する会議室を見つけて予約を確定したい場合

**スコープ**: 会議室予約システム

**レベル**: ユーザー目的

**主アクター**: 会員

**利害関係者と利益**:
- 会員: 希望する会議室を確実に予約したい
- 施設運営者: 予約情報を正確に管理したい
- スタッフ: 手動予約業務を削減したい

**事前条件**:
- 会員として登録済みである
- システムにログインしている
- 予約対象の会議室が利用可能である
- 会員の同時予約上限を超えていない（3件まで）

**最低保証**: 予約データの整合性が保たれ、重複予約が発生しない

**成功保証時**: 会員の予約が正常に確定され、確認情報が提供される

**トリガー**: 会員が予約画面で予約ボタンを押下する

**主成功シナリオ**:
1. 会員が予約詳細（利用日時、人数、目的）を入力する
2. システムが入力内容を検証する
3. システムが重複チェックと制約チェックを実行する
4. システムが予約を確定し、予約番号を発行する
5. システムが予約確認情報を表示する
6. システムが確認メールを送信する

**拡張**:
- 2a. 入力に不備がある場合: エラーメッセージを表示し、ステップ1に戻る
- 3a. 重複予約が検出された場合: エラーメッセージを表示し、代替案を提案
- 3b. 時間制約違反（2時間前ルール）の場合: エラーメッセージを表示
- 6a. メール送信に失敗した場合: 管理者に通知し、手動対応フラグを設定

**技術およびデータのバリエーションリスト**:
- 1a. 即時予約
- 1b. 繰り返し予約
- 4a. 自動確定
- 4b. 管理者承認要

**関連情報**:
- 予約情報は既存業務システムと連携
- 2時間前までのキャンセル制約を考慮

---

## BUC003:🖥️予約確認🌊

**使用時のコンテキスト**: 会員が自分の予約状況を確認したい場合

**スコープ**: 会議室予約システム

**レベル**: ユーザー目的

**主アクター**: 会員

**利害関係者と利益**:
- 会員: 自分の予約状況を正確に把握したい
- スタッフ: 予約確認の問い合わせ対応を削減したい

**事前条件**:
- 会員として登録済みである
- システムにログインしている

**最低保証**: 予約データが正確に表示される

**成功保証時**: 会員が自分の予約状況を正確に確認できる

**トリガー**: 会員が予約一覧画面にアクセスする

**主成功シナリオ**:
1. システムが会員の予約一覧を表示する
2. 会員が確認したい予約を選択する
3. システムが選択した予約の詳細情報を表示する
4. 会員が予約内容を確認する

**拡張**:
- 1a. 予約がない場合: 「予約がありません」メッセージを表示
- 3a. 詳細表示でエラーが発生: エラーメッセージを表示し、ステップ1に戻る

**技術およびデータのバリエーションリスト**:
- 1a. 一覧表示（時系列順）
- 1b. カレンダー表示
- 3a. 詳細ポップアップ
- 3b. 専用詳細画面

**関連情報**:
- 利用履歴と予約情報を統合表示
- リアルタイム同期が必要

---

## BUC004:🖥️予約変更🌊

**使用時のコンテキスト**: スタッフが会員の予約内容を変更する必要がある場合

**スコープ**: 会議室予約システム

**レベル**: ユーザー目的

**主アクター**: スタッフ

**利害関係者と利益**:
- スタッフ: 柔軟な予約管理を行いたい
- 会員: 予約変更に対応してもらいたい
- 施設運営者: 効率的な運営を行いたい

**事前条件**:
- スタッフとしてログインしている
- 変更対象の予約が存在する
- 変更に必要な権限を持っている

**最低保証**: 予約データの整合性が保たれる

**成功保証時**: 予約変更が正常に完了し、関係者に通知される

**トリガー**: スタッフが予約変更操作を開始する

**主成功シナリオ**:
1. スタッフが変更対象の予約を検索・選択する
2. システムが現在の予約詳細を表示する
3. スタッフが変更内容を入力する
4. システムが変更可能性をチェックする
5. システムが予約を更新する
6. システムが会員に変更通知を送信する

**拡張**:
- 4a. 変更不可能な場合: 理由を表示し、代替案を提案
- 6a. 通知送信失敗: 管理者に通知し、手動対応フラグを設定

**技術およびデータのバリエーションリスト**:
- 3a. 日時変更
- 3b. 会議室変更
- 3c. 人数変更

**関連情報**:
- 変更履歴を記録
- 会員への自動通知機能

---

## BUC005:🖥️予約キャンセル🌊

**使用時のコンテキスト**: 会員が予約をキャンセルしたい場合、またはスタッフが予約をキャンセルする場合

**スコープ**: 会議室予約システム

**レベル**: ユーザー目的

**主アクター**: 会員、スタッフ

**利害関係者と利益**:
- 会員: 不要な予約を簡単にキャンセルしたい
- スタッフ: 効率的なキャンセル処理を行いたい
- 施設運営者: キャンセル情報を正確に管理したい

**事前条件**:
- ログインしている
- キャンセル対象の予約が存在する
- キャンセル制約時間内である（2時間前まで）

**最低保証**: キャンセル処理が正確に実行され、データ整合性が保たれる

**成功保証時**: 予約が正常にキャンセルされ、利用履歴に記録される

**トリガー**: ユーザーがキャンセル操作を開始する

**主成功シナリオ**:
1. ユーザーがキャンセル対象の予約を選択する
2. システムがキャンセル可能性をチェックする
3. システムがキャンセル確認画面を表示する
4. ユーザーがキャンセルを確定する
5. システムが予約をキャンセル状態に更新する
6. システムがキャンセル完了通知を送信する

**拡張**:
- 2a. キャンセル不可能な場合: 理由を表示し、スタッフ経由での対応を案内
- 2b. 強制キャンセル（スタッフ権限）: 理由入力を必須とする

**技術およびデータのバリエーションリスト**:
- 5a. 通常キャンセル（利用者）
- 5b. 強制キャンセル（スタッフ）
- 6a. メール通知
- 6b. システム内通知

**関連情報**:
- キャンセル理由の記録
- 利用履歴への反映

---

## BUC006:🖥️会員登録🌊

**使用時のコンテキスト**: 新規利用者がシステムを利用するために会員登録を行う場合

**スコープ**: 会議室予約システム

**レベル**: ユーザー目的

**主アクター**: スタッフ、管理者

**利害関係者と利益**:
- 新規利用者: システムを利用開始したい
- スタッフ: 効率的な登録処理を行いたい
- 施設運営者: 新規会員を増やしたい

**事前条件**:
- スタッフまたは管理者としてログインしている
- 新規利用者の基本情報が入手できている

**最低保証**: 会員情報の正確性とセキュリティが確保される

**成功保証時**: 新規会員が正常に登録され、システム利用が可能になる

**トリガー**: スタッフが会員登録処理を開始する

**主成功シナリオ**:
1. スタッフが新規会員の基本情報を入力する
2. システムが入力内容を検証する
3. システムが重複チェックを実行する
4. システムが会員IDを発行し、ログイン情報を生成する
5. システムが会員情報を保存する
6. システムが登録完了通知を新規会員に送信する

**拡張**:
- 2a. 入力不備がある場合: エラーメッセージを表示し、ステップ1に戻る
- 3a. 重複会員が検出された場合: 既存会員情報を表示し、統合か別登録かを選択
- 6a. 通知送信失敗: 手動での連絡フラグを設定

**技術およびデータのバリエーションリスト**:
- 1a. 窓口登録
- 1b. オンライン仮登録
- 4a. 自動ID発行
- 4b. 手動ID指定

**関連情報**:
- 個人情報保護法への準拠
- 既存業務システムとの連携

---

## BUC007:🖥️会員情報更新🌊

**使用時のコンテキスト**: 会員の情報変更が必要な場合、または管理者が会員情報を管理する場合

**スコープ**: 会議室予約システム

**レベル**: ユーザー目的

**主アクター**: 管理者

**利害関係者と利益**:
- 会員: 正確な情報でサービスを利用したい
- 管理者: 会員情報を適切に管理したい
- 施設運営者: 最新の会員情報を維持したい

**事前条件**:
- 管理者としてログインしている
- 更新対象の会員が存在する
- 必要な権限を持っている

**最低保証**: 会員情報の整合性とセキュリティが保たれる

**成功保証時**: 会員情報が正常に更新され、関連システムに反映される

**トリガー**: 管理者が会員情報更新処理を開始する

**主成功シナリオ**:
1. 管理者が更新対象の会員を検索・選択する
2. システムが現在の会員情報を表示する
3. 管理者が変更内容を入力する
4. システムが入力内容を検証する
5. システムが会員情報を更新する
6. システムが変更履歴を記録する
7. システムが必要に応じて会員に変更通知を送信する

**拡張**:
- 4a. 入力不備がある場合: エラーメッセージを表示し、ステップ3に戻る
- 5a. システムエラーが発生: ロールバック処理を実行し、エラーログを記録
- 7a. 重要な変更の場合: 必ず通知を送信する

**技術およびデータのバリエーションリスト**:
- 3a. 基本情報変更
- 3b. 権限変更
- 3c. ステータス変更（有効/無効）

**関連情報**:
- 変更履歴の保持期間
- 利用履歴との関連性維持