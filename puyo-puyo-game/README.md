# ぷよぷよゲーム

HTML5 Canvas と JavaScript を使用したWebベースのぷよぷよゲーム実装です。

## プロジェクト構造

```
puyo-puyo-game/
├── index.html              # メインゲームページ
├── test.html              # 構造テスト用ページ
├── README.md              # このファイル
├── styles/
│   └── main.css           # メインスタイルシート
└── js/
    ├── main.js            # メインエントリーポイント
    ├── engine/
    │   └── GameEngine.js  # ゲームエンジン
    ├── input/
    │   └── InputHandler.js # 入力処理
    ├── rendering/
    │   └── Renderer.js    # レンダリング
    └── audio/
        └── AudioManager.js # オーディオ管理
```

## 技術仕様

- **HTML5 Canvas**: ゲーム描画
- **ES6 Modules**: モジュラー構造
- **Responsive Design**: モバイル対応
- **Web Audio API**: 効果音

## 機能

### 実装済み
- [x] プロジェクト構造とHTML/CSS基盤
- [x] Canvas要素と基本レイアウト
- [x] レスポンシブデザイン
- [x] ES6モジュール構造
- [x] 基本的なゲームエンジンフレームワーク
- [x] 入力処理システム（キーボード・タッチ）
- [x] レンダリングシステム
- [x] オーディオ管理システム

### 今後の実装予定
- [ ] ぷよデータモデル
- [ ] フィールド管理
- [ ] ぷよ移動・回転ロジック
- [ ] 連鎖システム
- [ ] スコアリング
- [ ] アニメーション

## 使用方法

### 開発環境での実行

1. プロジェクトディレクトリに移動
2. ローカルサーバーを起動（例：`python -m http.server 8000`）
3. ブラウザで `http://localhost:8000` にアクセス

### テスト

構造テストを実行するには：
1. `test.html` をブラウザで開く
2. 各テストボタンをクリックして動作確認

## 操作方法

### キーボード操作
- `←/→`: ぷよを左右に移動
- `↓`: ぷよを高速落下
- `↑/Space`: ぷよを回転
- `P`: ゲーム一時停止
- `R`: ゲーム再開

### タッチ操作
- 画面左側タップ: 左移動
- 画面右側タップ: 右移動
- 画面中央タップ: 回転
- 下スワイプ: 高速落下

## ブラウザ対応

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+
- モバイルブラウザ（iOS Safari、Chrome Mobile）

## 開発ノート

このプロジェクトは段階的に開発されており、現在は基盤構造の実装が完了しています。
各モジュールは独立して開発・テストできるよう設計されています。

### アーキテクチャの特徴

1. **モジュラー設計**: 各機能が独立したモジュールとして実装
2. **関心の分離**: ゲームロジック、レンダリング、入力処理が分離
3. **拡張性**: 新機能の追加が容易な構造
4. **テスト可能性**: 各モジュールが独立してテスト可能

### パフォーマンス考慮事項

- requestAnimationFrame を使用した滑らかなアニメーション
- Canvas の効率的な描画
- メモリリークの防止
- モバイルデバイスでの最適化